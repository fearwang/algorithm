/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package com.pdsrazor.algo;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import com.pdsrazor.algo.graph.GraphDemo;
import com.pdsrazor.algo.heap.HeapDemo;
import com.pdsrazor.algo.list.ListDemo;
import com.pdsrazor.algo.sort.SortDemo;
import com.pdsrazor.algo.strMatch.StringMatchDemo;
import com.pdsrazor.algo.tree.BinaryTreeDemo;
import com.pdsrazor.algo.trietree.TrieTreeDemo;
import com.pdsrazor.algo.search.SearchDemo;

public class App {
    public String getGreeting() {
        return "Hello world.";
    }

    private static HashMap<String, MyDemo> sDemos = new HashMap<String, MyDemo>();
    static {
        init();
    }
    public static void main(String[] args) {    
        if (args.length < 3) {
            usage(args);
            return;
        }
        MyDemo demo = sDemos.get(args[0]);
        if (demo == null) {
            System.out.println("Unsupport demo");
            return;
        }
        String[] demoArgs = new String[args.length-1];
        for (int i = 0; i < args.length - 1; i++) {
            demoArgs[i] = args[i+1];
        }
        demo.doCmd(demoArgs);
        return;
    }

    public static void usage(String[] args) {
        System.out.println("Usage: args: <Demo> <DemoItem>, eg: ListDemo revertLinkedList");
        System.out.println("Support demo: ");
        for (Map.Entry<String, MyDemo> demo : sDemos.entrySet()) {
            demo.getValue().usage();
        }
    }

    public static void init() {
        sDemos.put("ListDemo", new ListDemo());
        sDemos.put("SortDemo", new SortDemo());
        sDemos.put("SearchDemo", new SearchDemo());
        sDemos.put("BinaryTreeDemo", new BinaryTreeDemo());
        sDemos.put("HeapDemo", new HeapDemo());
        sDemos.put("StringMatchDemo", new StringMatchDemo());
        sDemos.put("TrieTreeDemo", new TrieTreeDemo());
        sDemos.put("GraphDemo", new GraphDemo());
    }
}
